<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para F√°tima üíå</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  height:100vh;
  background:#b11226;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Poppins',sans-serif;
  position:relative;
}

/* Corazones flotando */
.bg-heart{
  position:absolute; font-size:18px; opacity:0.15; animation:float linear infinite;
}
@keyframes float{
  0%{transform:translateY(100vh);} 100%{transform:translateY(-10vh);}
}

/* Sobre */
.envelope-container{
  perspective:1000px;
}
.envelope{
  width:300px;
  height:180px;
  position:relative;
  cursor:pointer;
  transform-style:preserve-3d;
  transition: transform 1s ease;
}
.envelope-body{
  width:100%;
  height:100%;
  background:#fff;
  border-radius:10px;
  position:relative;
  box-shadow:0 8px 20px rgba(0,0,0,0.4);
  overflow:hidden;
}
.envelope-flap{
  width:0;
  height:0;
  border-left:150px solid transparent;
  border-right:150px solid transparent;
  border-bottom:90px solid #f5f5f5;
  position:absolute;
  top:-90px;
  left:0;
  transform-origin:top center;
  transition: transform 0.8s ease;
}
.envelope.open .envelope-flap{
  transform: rotateX(180deg);
}

/* Carta interior */
.card{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:#fff;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:15px;
  opacity:0;
  transform:translateY(20px);
  transition:opacity 1s ease, transform 1s ease;
}
.envelope.open .card{
  opacity:1;
  transform:translateY(0);
}

/* Pregunta y botones */
.question{ font-family:'Great Vibes',cursive; font-size:26px; margin-bottom:15px; color:#b11226; }
button{
  padding:10px 20px; border:none; border-radius:25px; cursor:pointer; font-weight:bold; transition:0.3s;
}
button:hover{transform:scale(1.05);}
.yes{background:#b11226;color:white;margin-right:10px;}
.no{background:#555;color:white;position: relative; z-index:100;}

/* Respuesta */
.response{ display:none; color:#b11226; width:100%; }
.big-name{ font-family:'Great Vibes',cursive; font-size:22px; margin-bottom:5px; }
.big-name a{ color:#b11226; text-decoration:none; }
.big-name a:hover{text-decoration:underline;}
#timer{ font-size:12px; font-weight:bold; background:#ffebee; color:#b11226; padding:6px 8px; border-radius:8px; margin-top:10px; }

/* Lluvia */
.fall{ position:absolute; font-size:22px; animation:fall linear forwards; z-index:20; }
@keyframes fall{ 0%{transform:translateY(-10vh);} 100%{transform:translateY(110vh);} }
</style>
</head>
<body>

<script>
// Corazones flotando
for(let i=0;i<30;i++){
  let h=document.createElement("div");
  h.className="bg-heart";
  h.innerHTML="ü§ç";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(5+Math.random()*5)+"s";
  document.body.appendChild(h);
}
</script>

<div class="envelope-container">
  <div class="envelope" id="envelope" onclick="openEnvelope()">
    <div class="envelope-flap"></div>
    <div class="envelope-body">
      <div class="card">
        <div id="main-content">
          <div class="question">¬øQuieres ser mi San Valent√≠n? üíå</div>
          <button class="yes" onclick="event.stopPropagation();sayYes()">S√≠ üíç</button>
          <button class="no" id="noBtn" onclick="event.stopPropagation()">No üòè</button>
        </div>
        <div class="response" id="yesResponse">
          <div class="big-name"><a href="https://www.ejemplo.com" target="_blank">F√°tima Torres Melendez üíñ</a></div>
          <p style="font-size:12px; padding:0 5px;">
            Desde que llegaste a mi vida, todo tiene m√°s color. Eres la ni√±a de mis ojos. ¬°TE AMO! üêÆüíó
          </p>
          <div id="timer">Calculando nuestra historia...</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const envelope = document.getElementById("envelope");
const noBtn = document.getElementById("noBtn");
const startDate = new Date(2024,10,26,0,0,0);

function openEnvelope(){ envelope.classList.add("open"); }

function sayYes(){
  document.getElementById("main-content").style.display="none";
  document.getElementById("yesResponse").style.display="block";
  startRain();
  updateTimer();
  setInterval(updateTimer,1000);
}

function updateTimer(){
  const now=new Date();
  const diff=now-startDate;
  const days=Math.floor(diff/(1000*60*60*24));
  const hours=Math.floor((diff/(1000*60*60))%24);
  const mins=Math.floor((diff/1000/60)%60);
  const secs=Math.floor((diff/1000)%60);
  document.getElementById("timer").innerHTML=`Llevamos juntos:<br>‚ú® ${days} d√≠as, ${hours}h, ${mins}m y ${secs}s ‚ú®`;
}

function moveNoButton(){
  const buttonWidth = noBtn.offsetWidth || 120;
  const buttonHeight = noBtn.offsetHeight || 50;
  const x = Math.random()*(window.innerWidth-buttonWidth);
  const y = Math.random()*(window.innerHeight-buttonHeight);
  noBtn.style.position="fixed";
  noBtn.style.left = x+"px";
  noBtn.style.top = y+"px";
}

noBtn.addEventListener("mouseover",moveNoButton);
noBtn.addEventListener("touchstart",(e)=>{ e.preventDefault(); e.stopPropagation(); moveNoButton(); });

function startRain(){
  setInterval(()=>{
    let item=document.createElement("div");
    item.className="fall";
    item.innerHTML=Math.random()>0.5?"‚ù§Ô∏è":"üêÆ";
    item.style.left=Math.random()*100+"vw";
    item.style.animationDuration=(2+Math.random()*3)+"s";
    document.body.appendChild(item);
    setTimeout(()=>item.remove(),4000);
  },200);
}
</script>
</body>
</html>
